<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2016-11-09 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>JSimpleDB Maven Plugin - 
    jsimpledb:verify</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20161109" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                JSimpleDB Maven Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2016-11-09</span>
                  &nbsp;| <span id="projectVersion">Version: 2.4.3</span>
                      </div>
            <div class="xright">                    <a href="./" title="JSimpleDB Maven Plugin">JSimpleDB Maven Plugin</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="JSimpleDB">JSimpleDB</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
    <div class="section">
<h2>jsimpledb:verify<a name="jsimpledb:verify"></a></h2>
      
<p><b>Full name</b>:</p>
      
<p>org.jsimpledb:jsimpledb-maven-plugin:2.4.3:verify</p>
      
<p><b>Description</b>:</p>
      
<div>Verify the JSimpleDB schema auto-generated from user-supplied model
classes. 

<p>This goal verifies that the JSimpleDB schema can be successfully
auto-generated from user-supplied model classes. It also checks
that the schema will not lead to any
<tt>SchemaMismatchException</tt>s at runtime.</p>

<p>Such exceptions occur when either:</p>

<ul>

<li>There is already a schema recorded in the database under the
configured schema version, but the current schema version is not
compatible with it; or</li>

<li>The current schema version conflicts with one or more other
schema versions recorded in the database, e.g., because a field has
changed its type.</li>
</ul>

<p>The first case is detected by having an expected schema XML
file. This file corresponds to the project's currently configured
JSimpleDB schema version number (which is used to configure
JSimpleDB at runtime). It is used to verify that the schema
auto-generated from the project's current model classes has not
changed in an incompatible way, which would cause an error at
runtime. In other words, the actual schema generated from the
compiled classes is verified to match what is expected, which is
recorded in this file. The current expected schema XML file
location is configured by
<tt>&lt;expectedSchemaFile&gt;</tt>;</p>

<p>The second case it detected by supplying XML files containing
any old schema versions that are still active in the old schema
files directory. All files ending in <tt>.xml</tt> found
anywhere under this directory are checked for incompatibilities
with the current schema version. The old schema XML files directory
is configured by <tt>&lt;oldSchemasDirectory&gt;</tt>.</p>

<p>If this goal fails due to an incompatibility of the first
type:</p>

<ul>

<li>The old expected schema XML file should be moved into the old
schemas directory;</li>

<li>the new expected schema XML file (found in the location
configured by <tt>&lt;actualSchemaFile&gt;</tt>) should be
copied to the current expected schema XML file;</li>

<li>The project's configured JSimpleDB schema version number should
be incremented.</li>
</ul>

<p>If this goal fails due to an incompatibility of the second type,
you must adjust your model classes to make them compatible again.
For example, manually reassign the conflicting field a different
<tt>name()</tt> or <tt>storageId()</tt> using the
<tt>JField</tt> annotation.</p></div>
      
<p><b>Attributes</b>:</p>
      
<ul>
        
<li>Requires a Maven project to be executed.</li>
        
<li>Requires dependency resolution of artifacts in scope: <tt>compile+runtime</tt>.</li>
        
<li>The goal is thread-safe and supports parallel builds.</li>
        
<li>Binds by default to the <a class="externalLink" href="http://maven.apache.org/ref/current/maven-core/lifecycles.html">lifecycle phase</a>: <tt>process-classes</tt>.</li>
      </ul>
      
<div class="section">
<h3>Optional Parameters<a name="Optional_Parameters"></a></h3>
        
<table class="bodyTable" border="0">
          
<tr class="a">
            
<th>Name</th>
            
<th>Type</th>
            
<th>Since</th>
            
<th>Description</th>
          </tr>
          
<tr class="b">
            
<td><b><a href="#actualSchemaFile">actualSchemaFile</a></b></td>
            
<td><tt>File</tt></td>
            
<td><tt>-</tt></td>
            
<td>The schema XML file generated by this goal that contains the actual
current schema.<br /><b>Default value is</b>: <tt>${project.build.directory}/actual-jsimpledb-schema.xml</tt>.<br /><b>User property is</b>: <tt>actualSchemaFile</tt>.</td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#autoGenerate">autoGenerate</a></b></td>
            
<td><tt>boolean</tt></td>
            
<td><tt>-</tt></td>
            
<td>Whether to automatically generate the expected schema file if it
does not already exist. If set to <tt>false</tt>, this goal
will fail instead and leave the actual schema XML file in the
<tt>&lt;actualSchemaFile&gt;</tt> location.<br /><b>Default value is</b>: <tt>true</tt>.<br /></td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#classes">classes</a></b></td>
            
<td><tt>String[]</tt></td>
            
<td><tt>-</tt></td>
            
<td>Specifies the names of specific Java classes to search for
@<tt>JSimpleClass</tt> or @<tt>JFieldType</tt> annotations.


<p>If no <tt>&lt;classes&gt;</tt> or
<tt>&lt;packages&gt;</tt> are configured, then by default this
plugin searches all classes in the output directory.</p><br /></td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#expectedSchemaFile">expectedSchemaFile</a></b></td>
            
<td><tt>File</tt></td>
            
<td><tt>-</tt></td>
            
<td>The schema XML file that contains the expected current schema.<br /><b>Default value is</b>: <tt>${basedir}/src/main/jsimpledb/current-schema.xml</tt>.<br /><b>User property is</b>: <tt>expectedSchemaFile</tt>.</td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#matchNames">matchNames</a></b></td>
            
<td><tt>boolean</tt></td>
            
<td><tt>-</tt></td>
            
<td>Whether to verify not only schema compatibility but also that the
two schemas are identical, i.e., the same names are used for object
types, fields, and composite indexes. 

<p>Two schemas that are equivalent except for names are considered
compatible, because the core API uses storage ID's, not names, to
encode fields. However, if names change then some JSimpleDB layer
operations, such as index queries and reference path inversion, may
need to be updated.</p><br /><b>Default value is</b>: <tt>true</tt>.<br /></td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#oldSchemasDirectory">oldSchemasDirectory</a></b></td>
            
<td><tt>File</tt></td>
            
<td><tt>-</tt></td>
            
<td>The directory containing old schema versions still in use in any
existing databases.<br /><b>Default value is</b>: <tt>${basedir}/src/main/jsimpledb/old</tt>.<br /><b>User property is</b>: <tt>oldSchemasDirectory</tt>.</td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#packages">packages</a></b></td>
            
<td><tt>String[]</tt></td>
            
<td><tt>-</tt></td>
            
<td>Specifies Java package names under which to search for classes with
@<tt>JSimpleClass</tt> or @<tt>JFieldType</tt> annotations.


<p>If no <tt>&lt;classes&gt;</tt> or
<tt>&lt;packages&gt;</tt> are configured, then by default this
plugin searches all classes in the output directory.</p><br /></td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#storageIdGeneratorClass">storageIdGeneratorClass</a></b></td>
            
<td><tt>String</tt></td>
            
<td><tt>-</tt></td>
            
<td>
<p>The <tt>StorageIdGenerator</tt> to use for generating
JSimpleDB storage ID's. By default, a
<tt>DefaultStorageIdGenerator</tt> is used.</p>

<p>To configure a custom <tt>StorageIdGenerator</tt>, specify
its class name like this:</p>

<blockquote>

<div>
<pre>
&lt;configuration&gt;
    &lt;storageIdGeneratorClass&gt;com.example.MyStorageIdGenerator&lt;/storageIdGeneratorClass&gt;
    ...
&lt;/configuration&gt;
</pre></div>
</blockquote>
The specified class (<tt>com.example.MyStorageIdGenerator</tt>
in this example) must be available either as part of the project
being built or in one of the project's dependencies.<br /></td>
          </tr>
        </table>
      </div>
      
<div class="section">
<h3>Parameter Details<a name="Parameter_Details"></a></h3>
        
<p><b><a name="actualSchemaFile">actualSchemaFile</a>:</b></p>
        
<div>The schema XML file generated by this goal that contains the actual
current schema.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.io.File</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
          
<li><b>User Property</b>: <tt>actualSchemaFile</tt></li>
          
<li><b>Default</b>: <tt>${project.build.directory}/actual-jsimpledb-schema.xml</tt></li>
        </ul><hr />
<p><b><a name="autoGenerate">autoGenerate</a>:</b></p>
        
<div>Whether to automatically generate the expected schema file if it
does not already exist. If set to <tt>false</tt>, this goal
will fail instead and leave the actual schema XML file in the
<tt>&lt;actualSchemaFile&gt;</tt> location.</div>
        
<ul>
          
<li><b>Type</b>: <tt>boolean</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
          
<li><b>Default</b>: <tt>true</tt></li>
        </ul><hr />
<p><b><a name="classes">classes</a>:</b></p>
        
<div>Specifies the names of specific Java classes to search for
@<tt>JSimpleClass</tt> or @<tt>JFieldType</tt> annotations.


<p>If no <tt>&lt;classes&gt;</tt> or
<tt>&lt;packages&gt;</tt> are configured, then by default this
plugin searches all classes in the output directory.</p></div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String[]</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
        </ul><hr />
<p><b><a name="expectedSchemaFile">expectedSchemaFile</a>:</b></p>
        
<div>The schema XML file that contains the expected current schema.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.io.File</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
          
<li><b>User Property</b>: <tt>expectedSchemaFile</tt></li>
          
<li><b>Default</b>: <tt>${basedir}/src/main/jsimpledb/current-schema.xml</tt></li>
        </ul><hr />
<p><b><a name="matchNames">matchNames</a>:</b></p>
        
<div>Whether to verify not only schema compatibility but also that the
two schemas are identical, i.e., the same names are used for object
types, fields, and composite indexes. 

<p>Two schemas that are equivalent except for names are considered
compatible, because the core API uses storage ID's, not names, to
encode fields. However, if names change then some JSimpleDB layer
operations, such as index queries and reference path inversion, may
need to be updated.</p></div>
        
<ul>
          
<li><b>Type</b>: <tt>boolean</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
          
<li><b>Default</b>: <tt>true</tt></li>
        </ul><hr />
<p><b><a name="oldSchemasDirectory">oldSchemasDirectory</a>:</b></p>
        
<div>The directory containing old schema versions still in use in any
existing databases.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.io.File</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
          
<li><b>User Property</b>: <tt>oldSchemasDirectory</tt></li>
          
<li><b>Default</b>: <tt>${basedir}/src/main/jsimpledb/old</tt></li>
        </ul><hr />
<p><b><a name="packages">packages</a>:</b></p>
        
<div>Specifies Java package names under which to search for classes with
@<tt>JSimpleClass</tt> or @<tt>JFieldType</tt> annotations.


<p>If no <tt>&lt;classes&gt;</tt> or
<tt>&lt;packages&gt;</tt> are configured, then by default this
plugin searches all classes in the output directory.</p></div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String[]</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
        </ul><hr />
<p><b><a name="storageIdGeneratorClass">storageIdGeneratorClass</a>:</b></p>
        
<div>
<p>The <tt>StorageIdGenerator</tt> to use for generating
JSimpleDB storage ID's. By default, a
<tt>DefaultStorageIdGenerator</tt> is used.</p>

<p>To configure a custom <tt>StorageIdGenerator</tt>, specify
its class name like this:</p>

<blockquote>

<div>
<pre>
&lt;configuration&gt;
    &lt;storageIdGeneratorClass&gt;com.example.MyStorageIdGenerator&lt;/storageIdGeneratorClass&gt;
    ...
&lt;/configuration&gt;
</pre></div>
</blockquote>
The specified class (<tt>com.example.MyStorageIdGenerator</tt>
in this example) must be available either as part of the project
being built or in one of the project's dependencies.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
        </ul>
      </div>
    </div>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2016.
          All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
