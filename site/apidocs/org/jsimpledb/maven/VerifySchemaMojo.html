<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>VerifySchemaMojo (JSimpleDB 2.4.0 API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="VerifySchemaMojo (JSimpleDB 2.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VerifySchemaMojo.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jsimpledb/maven/HelpMojo.html" title="class in org.jsimpledb.maven"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jsimpledb/maven/VerifySchemaMojo.html" target="_top">Frames</a></li>
<li><a href="VerifySchemaMojo.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jsimpledb.maven</div>
<h2 title="Class VerifySchemaMojo" class="title">Class VerifySchemaMojo</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/AbstractMojo.html?is-external=true" title="class or interface in org.apache.maven.plugin">org.apache.maven.plugin.AbstractMojo</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html" title="class in org.jsimpledb.maven">org.jsimpledb.maven.AbstractSchemaMojo</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../org/jsimpledb/maven/AbstractMainSchemaMojo.html" title="class in org.jsimpledb.maven">org.jsimpledb.maven.AbstractMainSchemaMojo</a></li>
<li>
<ul class="inheritance">
<li>org.jsimpledb.maven.VerifySchemaMojo</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/ContextEnabled.html?is-external=true" title="class or interface in org.apache.maven.plugin">ContextEnabled</a>, <a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/Mojo.html?is-external=true" title="class or interface in org.apache.maven.plugin">Mojo</a></dd>
</dl>
<hr>
<br>
<pre><a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugins.annotations.Mojo.html?is-external=true" title="class or interface in org.apache.maven">@Mojo</a>(name="verify",
      defaultPhase=PROCESS_CLASSES,
      requiresDependencyResolution=COMPILE_PLUS_RUNTIME,
      threadSafe=true)
public class <span class="strong">VerifySchemaMojo</span>
extends <a href="../../../org/jsimpledb/maven/AbstractMainSchemaMojo.html" title="class in org.jsimpledb.maven">AbstractMainSchemaMojo</a></pre>
<div class="block">Verify the JSimpleDB schema auto-generated from user-supplied model classes.

 <p>
 This goal verifies that the JSimpleDB schema can be successfully auto-generated from user-supplied model classes.
 It also checks that the schema will not lead to any <a href="../../../org/jsimpledb/core/SchemaMismatchException.html" title="class in org.jsimpledb.core"><code>SchemaMismatchException</code></a>s at runtime.

 <p>
 Such exceptions occur when either:
 <ul>
  <li>There is already a schema recorded in the database under the configured schema version,
      but the current schema version is not compatible with it; or
  <li>The current schema version conflicts with one or more other schema versions
      recorded in the database, e.g., because a field has changed its type.
 </ul>

 <p>
 The first case is detected by having an expected schema XML file. This file corresponds to the project's
 currently configured JSimpleDB schema version number (which is used to configure JSimpleDB at runtime).
 It is used to verify that the schema auto-generated from the project's current model classes has not changed
 in an incompatible way, which would cause an error at runtime.
 In other words, the actual schema generated from the compiled classes is verified to match
 what is expected, which is recorded in this file.
 The current expected schema XML file location is configured by <code>&lt;expectedSchemaFile&gt;</code>;

 <p>
 The second case it detected by supplying XML files containing any old schema versions that are still active
 in the old schema files directory. All files ending in <code>.xml</code> found anywhere under this
 directory are checked for incompatibilities with the current schema version.
 The old schema XML files directory is configured by <code>&lt;oldSchemasDirectory&gt;</code>.

 <p>
 If this goal fails due to an incompatibility of the first type:
 <ul>
  <li>The old expected schema XML file should be moved into the old schemas directory;</li>
  <li>the new expected schema XML file (found in the location configured by <code>&lt;actualSchemaFile&gt;</code>)
      should be copied to the current expected schema XML file;</li>
  <li>The project's configured JSimpleDB schema version number should be incremented.</li>
 </ul>

 <p>
 If this goal fails due to an incompatibility of the second type, you must adjust your model classes to make
 them compatible again. For example, manually reassign the conflicting field a different
 <a href="../../../org/jsimpledb/annotation/JField.html#name()"><code>name()</code></a> or <a href="../../../org/jsimpledb/annotation/JField.html#storageId()"><code>storageId()</code></a>
 using the <a href="../../../org/jsimpledb/annotation/JField.html" title="annotation in org.jsimpledb.annotation"><code>JField</code></a> annotation.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jsimpledb/maven/VerifySchemaMojo.html#OLD_SCHEMAS_DEFAULT">OLD_SCHEMAS_DEFAULT</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.jsimpledb.maven.AbstractSchemaMojo">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.jsimpledb.maven.<a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html" title="class in org.jsimpledb.maven">AbstractSchemaMojo</a></h3>
<code><a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#classes">classes</a>, <a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#packages">packages</a>, <a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#project">project</a>, <a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#storageIdGeneratorClass">storageIdGeneratorClass</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.maven.plugin.Mojo">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.maven.plugin.<a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/Mojo.html?is-external=true" title="class or interface in org.apache.maven.plugin">Mojo</a></h3>
<code><a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/Mojo.html?is-external=true#ROLE" title="class or interface in org.apache.maven.plugin">ROLE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/jsimpledb/maven/VerifySchemaMojo.html#VerifySchemaMojo()">VerifySchemaMojo</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jsimpledb/maven/VerifySchemaMojo.html#execute(org.jsimpledb.JSimpleDB)">execute</a></strong>(<a href="../../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb">JSimpleDB</a>&nbsp;jdb)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.jsimpledb.maven.AbstractMainSchemaMojo">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.jsimpledb.maven.<a href="../../../org/jsimpledb/maven/AbstractMainSchemaMojo.html" title="class in org.jsimpledb.maven">AbstractMainSchemaMojo</a></h3>
<code><a href="../../../org/jsimpledb/maven/AbstractMainSchemaMojo.html#addDependencyClasspathElements(java.util.List)">addDependencyClasspathElements</a>, <a href="../../../org/jsimpledb/maven/AbstractMainSchemaMojo.html#getClassOutputDirectory()">getClassOutputDirectory</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.jsimpledb.maven.AbstractSchemaMojo">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.jsimpledb.maven.<a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html" title="class in org.jsimpledb.maven">AbstractSchemaMojo</a></h3>
<code><a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#execute()">execute</a>, <a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#generate(org.jsimpledb.schema.SchemaModel, java.io.File)">generate</a>, <a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#verify(org.jsimpledb.JSimpleDB, java.util.Iterator)">verify</a>, <a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#verify(org.jsimpledb.schema.SchemaModel, java.io.File, boolean)">verify</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.maven.plugin.AbstractMojo">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.maven.plugin.<a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/AbstractMojo.html?is-external=true" title="class or interface in org.apache.maven.plugin">AbstractMojo</a></h3>
<code><a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/AbstractMojo.html?is-external=true#getLog()" title="class or interface in org.apache.maven.plugin">getLog</a>, <a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/AbstractMojo.html?is-external=true#getPluginContext()" title="class or interface in org.apache.maven.plugin">getPluginContext</a>, <a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/AbstractMojo.html?is-external=true#setLog(org.apache.maven.plugin.logging.Log)" title="class or interface in org.apache.maven.plugin">setLog</a>, <a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/AbstractMojo.html?is-external=true#setPluginContext(java.util.Map)" title="class or interface in org.apache.maven.plugin">setPluginContext</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="OLD_SCHEMAS_DEFAULT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OLD_SCHEMAS_DEFAULT</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> OLD_SCHEMAS_DEFAULT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.jsimpledb.maven.VerifySchemaMojo.OLD_SCHEMAS_DEFAULT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VerifySchemaMojo()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VerifySchemaMojo</h4>
<pre>public&nbsp;VerifySchemaMojo()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="execute(org.jsimpledb.JSimpleDB)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>execute</h4>
<pre>protected&nbsp;void&nbsp;execute(<a href="../../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb">JSimpleDB</a>&nbsp;jdb)
                throws <a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/MojoExecutionException.html?is-external=true" title="class or interface in org.apache.maven.plugin">MojoExecutionException</a>,
                       <a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/MojoFailureException.html?is-external=true" title="class or interface in org.apache.maven.plugin">MojoFailureException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html#execute(org.jsimpledb.JSimpleDB)">execute</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/jsimpledb/maven/AbstractSchemaMojo.html" title="class in org.jsimpledb.maven">AbstractSchemaMojo</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/MojoExecutionException.html?is-external=true" title="class or interface in org.apache.maven.plugin">MojoExecutionException</a></code></dd>
<dd><code><a href="https://maven.apache.org/ref/3.3.9/apidocs/org/apache/maven/plugin/MojoFailureException.html?is-external=true" title="class or interface in org.apache.maven.plugin">MojoFailureException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VerifySchemaMojo.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jsimpledb/maven/HelpMojo.html" title="class in org.jsimpledb.maven"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jsimpledb/maven/VerifySchemaMojo.html" target="_top">Frames</a></li>
<li><a href="VerifySchemaMojo.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
